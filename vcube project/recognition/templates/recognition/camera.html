<!DOCTYPE html>
<html>
<head>
    <title>Face Recognition Attendance</title>

    <!-- Bootstrap -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">

    <style>
        #videoElement {
            width: 100%;
            height: auto;
            border-radius: 10px;
            border: 4px solid #0d6efd;
        }
        #status {
            margin-top: 15px;
            font-weight: bold;
            color: green;
        }
    </style>
</head>
<body class="bg-light">

<div class="container mt-5 text-center">
    <h2 class="mb-4 text-primary">Face Recognition Attendance</h2>

    <div class="card shadow p-3">
        <video id="videoElement" autoplay></video>

        <!-- Start Recognition button -->
        <form method="get" action="{% url 'start_recognition' %}">
            <button type="submit" class="btn btn-success mt-3">
                Start Recognition & Mark Attendance
            </button>
        </form>

        <div id="status">
            Make sure your webcam is working. Press 'q' to quit recognition.
        </div>
    </div>
</div>

<script>
    // Open camera for preview (optional, just for UI)
    const video = document.getElementById("videoElement");
    navigator.mediaDevices.getUserMedia({ video: true })
        .then(stream => { video.srcObject = stream; })
        .catch(err => console.error("Camera error:", err));
</script>

</body>
</html>
